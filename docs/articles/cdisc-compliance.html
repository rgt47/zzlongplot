<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>CDISC Compliance and Standards • zzlongplot</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="CDISC Compliance and Standards">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">zzlongplot</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.1000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/zzlongplot_introduction.html">zzlongplot: A Flexible Framework for Longitudinal Data Visualization</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rgt47/zzlongplot/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>CDISC Compliance and Standards</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/rgt47/zzlongplot/blob/HEAD/vignettes/cdisc-compliance.Rmd" class="external-link"><code>vignettes/cdisc-compliance.Rmd</code></a></small>
      <div class="d-none name"><code>cdisc-compliance.Rmd</code></div>
    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/rgt47/zzlongplot" class="external-link">zzlongplot</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Attaching package: 'dplyr'</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:stats':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     filter, lag</span></span>
<span><span class="co">#&gt; The following objects are masked from 'package:base':</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;     intersect, setdiff, setequal, union</span></span></code></pre></div>
<div class="section level2">
<h2 id="introduction-to-cdisc-standards">Introduction to CDISC Standards<a class="anchor" aria-label="anchor" href="#introduction-to-cdisc-standards"></a>
</h2>
<p>The Clinical Data Interchange Standards Consortium (CDISC) provides
global standards for clinical research data. The <code>zzlongplot</code>
package includes built-in support for CDISC naming conventions and
standards to streamline clinical trial data visualization.</p>
<p>This vignette covers: - CDISC variable naming conventions - Automatic
variable detection and mapping - Compliance with ADaM (Analysis Data
Model) standards - Best practices for regulatory submissions</p>
</div>
<div class="section level2">
<h2 id="cdisc-variable-naming-conventions">CDISC Variable Naming Conventions<a class="anchor" aria-label="anchor" href="#cdisc-variable-naming-conventions"></a>
</h2>
<div class="section level3">
<h3 id="core-analysis-variables">Core Analysis Variables<a class="anchor" aria-label="anchor" href="#core-analysis-variables"></a>
</h3>
<p>CDISC defines standard variable names for clinical trial
analysis:</p>
<table class="table">
<thead><tr class="header">
<th>Variable</th>
<th>Description</th>
<th>Example Values</th>
</tr></thead>
<tbody>
<tr class="odd">
<td><strong>SUBJID</strong></td>
<td>Subject Identifier</td>
<td>“001-001”, “001-002”</td>
</tr>
<tr class="even">
<td><strong>USUBJID</strong></td>
<td>Unique Subject Identifier</td>
<td>“STUDY001-001-001”</td>
</tr>
<tr class="odd">
<td><strong>AVISITN</strong></td>
<td>Analysis Visit Number</td>
<td>0, 1, 2, 3, 4</td>
</tr>
<tr class="even">
<td><strong>VISIT</strong></td>
<td>Visit Name</td>
<td>“Screening”, “Baseline”, “Week 4”</td>
</tr>
<tr class="odd">
<td><strong>AVAL</strong></td>
<td>Analysis Value</td>
<td>Numeric endpoint values</td>
</tr>
<tr class="even">
<td><strong>CHG</strong></td>
<td>Change from Baseline</td>
<td>Calculated change values</td>
</tr>
<tr class="odd">
<td><strong>PCHG</strong></td>
<td>Percent Change from Baseline</td>
<td>Percentage change values</td>
</tr>
<tr class="even">
<td><strong>TRT01P</strong></td>
<td>Planned Treatment</td>
<td>“Placebo”, “Drug A”, “Drug B”</td>
</tr>
<tr class="odd">
<td><strong>TRT01A</strong></td>
<td>Actual Treatment</td>
<td>“Placebo”, “Drug A”, “Drug B”</td>
</tr>
<tr class="even">
<td><strong>SAFFL</strong></td>
<td>Safety Population Flag</td>
<td>“Y”, “N”</td>
</tr>
<tr class="odd">
<td><strong>FASFL</strong></td>
<td>Full Analysis Set Flag</td>
<td>“Y”, “N”</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="creating-cdisc-compliant-data">Creating CDISC-Compliant Data<a class="anchor" aria-label="anchor" href="#creating-cdisc-compliant-data"></a>
</h3>
<p>Let’s create a dataset following CDISC conventions:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create CDISC-compliant dataset</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">456</span><span class="op">)</span></span>
<span></span>
<span><span class="va">cdisc_data</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/expand.grid.html" class="external-link">expand.grid</a></span><span class="op">(</span></span>
<span>  USUBJID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste0</a></span><span class="op">(</span><span class="st">"STUDY001-001-"</span>, <span class="fu"><a href="https://rdrr.io/r/base/sprintf.html" class="external-link">sprintf</a></span><span class="op">(</span><span class="st">"%03d"</span>, <span class="fl">1</span><span class="op">:</span><span class="fl">50</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  AVISITN <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span><span class="op">)</span>  <span class="co"># Baseline + 5 visits</span></span>
<span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    <span class="co"># Subject identifier (shortened)</span></span>
<span>    SUBJID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">sub</a></span><span class="op">(</span><span class="st">"STUDY001-"</span>, <span class="st">""</span>, <span class="va">USUBJID</span><span class="op">)</span>,</span>
<span>    </span>
<span>    <span class="co"># Visit information  </span></span>
<span>    VISIT <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="va">AVISITN</span> <span class="op">==</span> <span class="fl">0</span> <span class="op">~</span> <span class="st">"Baseline"</span>,</span>
<span>      <span class="va">AVISITN</span> <span class="op">==</span> <span class="fl">1</span> <span class="op">~</span> <span class="st">"Week 2"</span>, </span>
<span>      <span class="va">AVISITN</span> <span class="op">==</span> <span class="fl">2</span> <span class="op">~</span> <span class="st">"Week 4"</span>,</span>
<span>      <span class="va">AVISITN</span> <span class="op">==</span> <span class="fl">3</span> <span class="op">~</span> <span class="st">"Week 8"</span>,</span>
<span>      <span class="va">AVISITN</span> <span class="op">==</span> <span class="fl">4</span> <span class="op">~</span> <span class="st">"Week 12"</span>, </span>
<span>      <span class="va">AVISITN</span> <span class="op">==</span> <span class="fl">5</span> <span class="op">~</span> <span class="st">"Week 16"</span></span>
<span>    <span class="op">)</span>,</span>
<span>    </span>
<span>    <span class="co"># Treatment assignments</span></span>
<span>    TRT01P <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rep.html" class="external-link">rep</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Placebo"</span>, <span class="st">"Drug A 5mg"</span>, <span class="st">"Drug A 10mg"</span>, <span class="st">"Drug A 20mg"</span><span class="op">)</span>, </span>
<span>                 length.out <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    TRT01A <span class="op">=</span> <span class="va">TRT01P</span>,  <span class="co"># Assume planned = actual for simplicity</span></span>
<span>    </span>
<span>    <span class="co"># Population flags</span></span>
<span>    SAFFL <span class="op">=</span> <span class="st">"Y"</span>,</span>
<span>    FASFL <span class="op">=</span> <span class="st">"Y"</span>,</span>
<span>    </span>
<span>    <span class="co"># Analysis values - simulate depression rating scale (lower = better)</span></span>
<span>    AVAL <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/case_when.html" class="external-link">case_when</a></span><span class="op">(</span></span>
<span>      <span class="va">TRT01P</span> <span class="op">==</span> <span class="st">"Placebo"</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">pmax</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span>, mean <span class="op">=</span> <span class="fl">20</span> <span class="op">+</span> <span class="va">AVISITN</span> <span class="op">*</span> <span class="fl">0.5</span>, sd <span class="op">=</span> <span class="fl">5</span><span class="op">)</span><span class="op">)</span>,</span>
<span>      <span class="va">TRT01P</span> <span class="op">==</span> <span class="st">"Drug A 5mg"</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">pmax</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span>, mean <span class="op">=</span> <span class="fl">20</span> <span class="op">-</span> <span class="va">AVISITN</span> <span class="op">*</span> <span class="fl">1</span>, sd <span class="op">=</span> <span class="fl">4.5</span><span class="op">)</span><span class="op">)</span>,</span>
<span>      <span class="va">TRT01P</span> <span class="op">==</span> <span class="st">"Drug A 10mg"</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">pmax</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span>, mean <span class="op">=</span> <span class="fl">20</span> <span class="op">-</span> <span class="va">AVISITN</span> <span class="op">*</span> <span class="fl">2</span>, sd <span class="op">=</span> <span class="fl">4</span><span class="op">)</span><span class="op">)</span>,</span>
<span>      <span class="va">TRT01P</span> <span class="op">==</span> <span class="st">"Drug A 20mg"</span> <span class="op">~</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">pmax</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/stats/Normal.html" class="external-link">rnorm</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span>, mean <span class="op">=</span> <span class="fl">20</span> <span class="op">-</span> <span class="va">AVISITN</span> <span class="op">*</span> <span class="fl">3</span>, sd <span class="op">=</span> <span class="fl">4</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">)</span>,</span>
<span>    </span>
<span>    <span class="co"># Parameter information</span></span>
<span>    PARAM <span class="op">=</span> <span class="st">"Hamilton Depression Rating Scale Total Score"</span>,</span>
<span>    PARAMCD <span class="op">=</span> <span class="st">"HAMDTOT"</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="co"># Calculate change from baseline</span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">USUBJID</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    BASE <span class="op">=</span> <span class="va">AVAL</span><span class="op">[</span><span class="va">AVISITN</span> <span class="op">==</span> <span class="fl">0</span><span class="op">]</span>,</span>
<span>    CHG <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">AVISITN</span> <span class="op">==</span> <span class="fl">0</span>, <span class="cn">NA</span>, <span class="va">AVAL</span> <span class="op">-</span> <span class="va">BASE</span><span class="op">)</span>,</span>
<span>    PCHG <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">AVISITN</span> <span class="op">==</span> <span class="fl">0</span>, <span class="cn">NA</span>, <span class="op">(</span><span class="va">AVAL</span> <span class="op">-</span> <span class="va">BASE</span><span class="op">)</span> <span class="op">/</span> <span class="va">BASE</span> <span class="op">*</span> <span class="fl">100</span><span class="op">)</span></span>
<span>  <span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">ungroup</a></span><span class="op">(</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">USUBJID</span>, <span class="va">AVISITN</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/head.html" class="external-link">head</a></span><span class="op">(</span><span class="va">cdisc_data</span>, <span class="fl">10</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 10 × 14</span></span></span>
<span><span class="co">#&gt;    USUBJID    AVISITN SUBJID VISIT TRT01P TRT01A SAFFL FASFL  AVAL PARAM PARAMCD</span></span>
<span><span class="co">#&gt;    <span style="color: #949494; font-style: italic;">&lt;fct&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 1</span> STUDY001-…       0 001-0… Base… Place… Place… Y     Y      13.3 Hami… HAMDTOT</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 2</span> STUDY001-…       1 001-0… Week… Drug … Drug … Y     Y      22.2 Hami… HAMDTOT</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 3</span> STUDY001-…       2 001-0… Week… Place… Place… Y     Y      21.6 Hami… HAMDTOT</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 4</span> STUDY001-…       3 001-0… Week… Drug … Drug … Y     Y      13.7 Hami… HAMDTOT</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 5</span> STUDY001-…       4 001-0… Week… Place… Place… Y     Y      23.5 Hami… HAMDTOT</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 6</span> STUDY001-…       5 001-0… Week… Drug … Drug … Y     Y      19.9 Hami… HAMDTOT</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 7</span> STUDY001-…       0 001-0… Base… Drug … Drug … Y     Y      21.8 Hami… HAMDTOT</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 8</span> STUDY001-…       1 001-0… Week… Drug … Drug … Y     Y      21.5 Hami… HAMDTOT</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;"> 9</span> STUDY001-…       2 001-0… Week… Drug … Drug … Y     Y      16.1 Hami… HAMDTOT</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">10</span> STUDY001-…       3 001-0… Week… Drug … Drug … Y     Y      11.4 Hami… HAMDTOT</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 3 more variables: BASE &lt;dbl&gt;, CHG &lt;dbl&gt;, PCHG &lt;dbl&gt;</span></span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="automatic-cdisc-variable-recognition">Automatic CDISC Variable Recognition<a class="anchor" aria-label="anchor" href="#automatic-cdisc-variable-recognition"></a>
</h2>
<div class="section level3">
<h3 id="basic-cdisc-plot">Basic CDISC Plot<a class="anchor" aria-label="anchor" href="#basic-cdisc-plot"></a>
</h3>
<p>The package automatically recognizes CDISC variable names:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Automatic CDISC recognition</span></span>
<span><span class="va">p1</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/lplot.html">lplot</a></span><span class="op">(</span></span>
<span>  <span class="va">cdisc_data</span>,</span>
<span>  form <span class="op">=</span> <span class="va">AVAL</span> <span class="op">~</span> <span class="va">AVISITN</span> <span class="op">|</span> <span class="va">TRT01P</span>,</span>
<span>  cluster_var <span class="op">=</span> <span class="st">"USUBJID"</span>,  <span class="co"># Uses USUBJID (standard)</span></span>
<span>  baseline_value <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  xlab <span class="op">=</span> <span class="st">"Analysis Visit"</span>,</span>
<span>  ylab <span class="op">=</span> <span class="st">"HAMD Total Score"</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Depression Severity Over Time"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">p1</span><span class="op">)</span></span></code></pre></div>
<p><img src="cdisc-compliance_files/figure-html/basic-cdisc-1.png" width="768"></p>
</div>
<div class="section level3">
<h3 id="using-visit-names">Using VISIT Names<a class="anchor" aria-label="anchor" href="#using-visit-names"></a>
</h3>
<p>CDISC often uses descriptive visit names:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Using CDISC visit names</span></span>
<span><span class="va">p2</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/lplot.html">lplot</a></span><span class="op">(</span></span>
<span>  <span class="va">cdisc_data</span>, </span>
<span>  form <span class="op">=</span> <span class="va">AVAL</span> <span class="op">~</span> <span class="va">VISIT</span> <span class="op">|</span> <span class="va">TRT01P</span>,</span>
<span>  cluster_var <span class="op">=</span> <span class="st">"USUBJID"</span>,</span>
<span>  baseline_value <span class="op">=</span> <span class="st">"Baseline"</span>,</span>
<span>  xlab <span class="op">=</span> <span class="st">"Study Visit"</span>, </span>
<span>  ylab <span class="op">=</span> <span class="st">"HAMD Total Score"</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Depression Severity by Visit"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">p2</span><span class="op">)</span></span></code></pre></div>
<p><img src="cdisc-compliance_files/figure-html/visit-names-1.png" width="768"></p>
</div>
<div class="section level3">
<h3 id="change-from-baseline-chg">Change from Baseline (CHG)<a class="anchor" aria-label="anchor" href="#change-from-baseline-chg"></a>
</h3>
<p>CDISC datasets typically include pre-calculated CHG values:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Using pre-calculated CHG values</span></span>
<span><span class="va">cdisc_chg</span> <span class="op">&lt;-</span> <span class="va">cdisc_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">AVISITN</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span>  <span class="co"># Exclude baseline for CHG</span></span>
<span></span>
<span><span class="va">p3</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/lplot.html">lplot</a></span><span class="op">(</span></span>
<span>  <span class="va">cdisc_chg</span>,</span>
<span>  form <span class="op">=</span> <span class="va">CHG</span> <span class="op">~</span> <span class="va">AVISITN</span> <span class="op">|</span> <span class="va">TRT01P</span>,</span>
<span>  cluster_var <span class="op">=</span> <span class="st">"USUBJID"</span>, </span>
<span>  baseline_value <span class="op">=</span> <span class="fl">1</span>,  <span class="co"># First post-baseline visit</span></span>
<span>  xlab <span class="op">=</span> <span class="st">"Analysis Visit"</span>,</span>
<span>  ylab <span class="op">=</span> <span class="st">"Change from Baseline (HAMD)"</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Change in Depression Severity"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">p3</span><span class="op">)</span></span></code></pre></div>
<p><img src="cdisc-compliance_files/figure-html/change-baseline-1.png" width="768"></p>
</div>
</div>
<div class="section level2">
<h2 id="cdisc-variable-detection-helper">CDISC Variable Detection Helper<a class="anchor" aria-label="anchor" href="#cdisc-variable-detection-helper"></a>
</h2>
<div class="section level3">
<h3 id="suggest-clinical-variables">Suggest Clinical Variables<a class="anchor" aria-label="anchor" href="#suggest-clinical-variables"></a>
</h3>
<p>The package can automatically detect likely CDISC variables:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Auto-detect CDISC variables (when implemented)</span></span>
<span><span class="va">suggestions</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/suggest_clinical_vars.html">suggest_clinical_vars</a></span><span class="op">(</span><span class="va">cdisc_data</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">suggestions</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#&gt; CDISC Variables Detected:</span></span>
<span><span class="co">#&gt; ========================</span></span>
<span><span class="co">#&gt; Subject ID: USUBJID (primary), SUBJID (alternate)  </span></span>
<span><span class="co">#&gt; Visit: AVISITN (numeric), VISIT (character)</span></span>
<span><span class="co">#&gt; Analysis Value: AVAL</span></span>
<span><span class="co">#&gt; Change from Baseline: CHG </span></span>
<span><span class="co">#&gt; Treatment: TRT01P (planned), TRT01A (actual)</span></span>
<span><span class="co">#&gt; Population Flags: SAFFL, FASFL</span></span>
<span><span class="co">#&gt;</span></span>
<span><span class="co">#&gt; Suggested Formula: AVAL ~ AVISITN | TRT01P</span></span>
<span><span class="co">#&gt; Cluster Variable: USUBJID</span></span>
<span><span class="co">#&gt; Baseline Visit: AVISITN = 0</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="validate-cdisc-compliance">Validate CDISC Compliance<a class="anchor" aria-label="anchor" href="#validate-cdisc-compliance"></a>
</h3>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Check CDISC compliance (when implemented)</span></span>
<span><span class="va">compliance</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/validate_cdisc_data.html">validate_cdisc_data</a></span><span class="op">(</span><span class="va">cdisc_data</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">compliance</span><span class="op">)</span></span>
<span></span>
<span><span class="co">#&gt; CDISC Compliance Report:</span></span>
<span><span class="co">#&gt; =======================</span></span>
<span><span class="co">#&gt; ✓ Subject identifiers present (USUBJID, SUBJID)</span></span>
<span><span class="co">#&gt; ✓ Visit variables present (AVISITN, VISIT) </span></span>
<span><span class="co">#&gt; ✓ Analysis value present (AVAL)</span></span>
<span><span class="co">#&gt; ✓ Treatment variable present (TRT01P)</span></span>
<span><span class="co">#&gt; ✓ Population flags present (SAFFL, FASFL)</span></span>
<span><span class="co">#&gt; ✓ Change from baseline calculated (CHG)</span></span>
<span><span class="co">#&gt; ! Missing PCHG (percent change from baseline)</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; Overall Compliance: 95%</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="adam-standards-compliance">ADaM Standards Compliance<a class="anchor" aria-label="anchor" href="#adam-standards-compliance"></a>
</h2>
<div class="section level3">
<h3 id="analysis-data-model-adam">Analysis Data Model (ADaM)<a class="anchor" aria-label="anchor" href="#analysis-data-model-adam"></a>
</h3>
<p>ADaM is the CDISC standard for analysis datasets. Key requirements
include:</p>
<div class="section level4">
<h4 id="required-variables">1. Required Variables<a class="anchor" aria-label="anchor" href="#required-variables"></a>
</h4>
<p>Every ADaM dataset should have: - <strong>USUBJID</strong>: Unique
subject identifier - <strong>SUBJID</strong>: Subject identifier within
study - <strong>STUDYID</strong>: Study identifier<br>
- <strong>SITEID</strong>: Site identifier</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Add ADaM required variables</span></span>
<span><span class="va">cdisc_adam</span> <span class="op">&lt;-</span> <span class="va">cdisc_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    STUDYID <span class="op">=</span> <span class="st">"STUDY001"</span>,</span>
<span>    SITEID <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/substr.html" class="external-link">substr</a></span><span class="op">(</span><span class="va">SUBJID</span>, <span class="fl">1</span>, <span class="fl">3</span><span class="op">)</span>  <span class="co"># Extract site from SUBJID</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Verify required variables</span></span>
<span><span class="va">required_vars</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"USUBJID"</span>, <span class="st">"SUBJID"</span>, <span class="st">"STUDYID"</span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Required ADaM variables present:"</span>, </span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="va">required_vars</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">cdisc_adam</span><span class="op">)</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Required ADaM variables present: TRUE</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="analysis-flags">2. Analysis Flags<a class="anchor" aria-label="anchor" href="#analysis-flags"></a>
</h4>
<p>ADaM datasets include population analysis flags:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Population-specific analysis</span></span>
<span><span class="va">fasfl_data</span> <span class="op">&lt;-</span> <span class="va">cdisc_adam</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">FASFL</span> <span class="op">==</span> <span class="st">"Y"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">p4</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/lplot.html">lplot</a></span><span class="op">(</span></span>
<span>  <span class="va">fasfl_data</span>,</span>
<span>  form <span class="op">=</span> <span class="va">AVAL</span> <span class="op">~</span> <span class="va">AVISITN</span> <span class="op">|</span> <span class="va">TRT01P</span>, </span>
<span>  cluster_var <span class="op">=</span> <span class="st">"USUBJID"</span>,</span>
<span>  baseline_value <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  clinical_mode <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Primary Analysis (Full Analysis Set)"</span>,</span>
<span>  subtitle <span class="op">=</span> <span class="st">"FASFL = 'Y' Population"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">p4</span><span class="op">)</span></span></code></pre></div>
<p><img src="cdisc-compliance_files/figure-html/adam-flags-1.png" width="768"></p>
</div>
<div class="section level4">
<h4 id="traceability">3. Traceability<a class="anchor" aria-label="anchor" href="#traceability"></a>
</h4>
<p>ADaM requires traceability to source data:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Add traceability variables (example)</span></span>
<span><span class="va">cdisc_trace</span> <span class="op">&lt;-</span> <span class="va">cdisc_adam</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    <span class="co"># Source dataset references</span></span>
<span>    SRCDOM <span class="op">=</span> <span class="st">"QS"</span>,        <span class="co"># Source domain (Questionnaires)</span></span>
<span>    SRCVAR <span class="op">=</span> <span class="st">"QSSTRESN"</span>,  <span class="co"># Source variable</span></span>
<span>    SRCSEQ <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/row_number.html" class="external-link">row_number</a></span><span class="op">(</span><span class="op">)</span> <span class="co"># Source sequence</span></span>
<span>  <span class="op">)</span></span></code></pre></div>
</div>
</div>
</div>
<div class="section level2">
<h2 id="regulatory-submission-standards">Regulatory Submission Standards<a class="anchor" aria-label="anchor" href="#regulatory-submission-standards"></a>
</h2>
<div class="section level3">
<h3 id="consistent-terminology">1. Consistent Terminology<a class="anchor" aria-label="anchor" href="#consistent-terminology"></a>
</h3>
<p>Use CDISC controlled terminology:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># CDISC controlled terminology for treatments</span></span>
<span><span class="va">treatment_mapping</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span></span>
<span>  <span class="st">"Placebo"</span> <span class="op">=</span> <span class="st">"Placebo"</span>,</span>
<span>  <span class="st">"Drug A 5mg"</span> <span class="op">=</span> <span class="st">"COMPOUND-A 5 MG"</span>, </span>
<span>  <span class="st">"Drug A 10mg"</span> <span class="op">=</span> <span class="st">"COMPOUND-A 10 MG"</span>,</span>
<span>  <span class="st">"Drug A 20mg"</span> <span class="op">=</span> <span class="st">"COMPOUND-A 20 MG"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">cdisc_terminology</span> <span class="op">&lt;-</span> <span class="va">cdisc_adam</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    TRT01P_STD <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/recode.html" class="external-link">recode</a></span><span class="op">(</span><span class="va">TRT01P</span>, <span class="op">!</span><span class="op">!</span><span class="op">!</span><span class="va">treatment_mapping</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="va">p5</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/lplot.html">lplot</a></span><span class="op">(</span></span>
<span>  <span class="va">cdisc_terminology</span>,</span>
<span>  form <span class="op">=</span> <span class="va">AVAL</span> <span class="op">~</span> <span class="va">AVISITN</span> <span class="op">|</span> <span class="va">TRT01P_STD</span>,</span>
<span>  cluster_var <span class="op">=</span> <span class="st">"USUBJID"</span>,</span>
<span>  baseline_value <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  clinical_mode <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Efficacy Analysis - Standard Terminology"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">p5</span><span class="op">)</span></span></code></pre></div>
<p><img src="cdisc-compliance_files/figure-html/terminology-1.png" width="768"></p>
</div>
<div class="section level3">
<h3 id="missing-data-handling">2. Missing Data Handling<a class="anchor" aria-label="anchor" href="#missing-data-handling"></a>
</h3>
<p>CDISC requires explicit missing data handling:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Add some missing data patterns</span></span>
<span><span class="va">cdisc_missing</span> <span class="op">&lt;-</span> <span class="va">cdisc_adam</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>    <span class="co"># Simulate missing data (dropout pattern)</span></span>
<span>    AVAL <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span></span>
<span>      <span class="va">AVISITN</span> <span class="op">&gt;=</span> <span class="fl">3</span> <span class="op">&amp;</span> <span class="fu"><a href="https://rdrr.io/r/stats/Uniform.html" class="external-link">runif</a></span><span class="op">(</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/context.html" class="external-link">n</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span> <span class="op">&lt;</span> <span class="fl">0.1</span> <span class="op">*</span> <span class="op">(</span><span class="va">AVISITN</span> <span class="op">-</span> <span class="fl">2</span><span class="op">)</span>, </span>
<span>      <span class="cn">NA</span>, </span>
<span>      <span class="va">AVAL</span></span>
<span>    <span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="co"># Plot showing missing data impact</span></span>
<span><span class="va">p6</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/lplot.html">lplot</a></span><span class="op">(</span></span>
<span>  <span class="va">cdisc_missing</span>,</span>
<span>  form <span class="op">=</span> <span class="va">AVAL</span> <span class="op">~</span> <span class="va">AVISITN</span> <span class="op">|</span> <span class="va">TRT01P</span>,</span>
<span>  cluster_var <span class="op">=</span> <span class="st">"USUBJID"</span>, </span>
<span>  baseline_value <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  clinical_mode <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  title <span class="op">=</span> <span class="st">"Analysis with Missing Data"</span>,</span>
<span>  subtitle <span class="op">=</span> <span class="st">"Observed Cases Only"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">p6</span><span class="op">)</span></span></code></pre></div>
<p><img src="cdisc-compliance_files/figure-html/missing-data-1.png" width="768"></p>
</div>
</div>
<div class="section level2">
<h2 id="best-practices-for-cdisc-compliance">Best Practices for CDISC Compliance<a class="anchor" aria-label="anchor" href="#best-practices-for-cdisc-compliance"></a>
</h2>
<div class="section level3">
<h3 id="standard-variable-names">1. Standard Variable Names<a class="anchor" aria-label="anchor" href="#standard-variable-names"></a>
</h3>
<p>Always use CDISC standard variable names:</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Good: CDISC standard names</span></span>
<span><span class="va">good_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/lplot.html">lplot</a></span><span class="op">(</span></span>
<span>  <span class="va">cdisc_data</span>,</span>
<span>  form <span class="op">=</span> <span class="va">AVAL</span> <span class="op">~</span> <span class="va">AVISITN</span> <span class="op">|</span> <span class="va">TRT01P</span>,</span>
<span>  cluster_var <span class="op">=</span> <span class="st">"USUBJID"</span>,</span>
<span>  baseline_value <span class="op">=</span> <span class="fl">0</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Avoid: Non-standard names</span></span>
<span><span class="co"># bad_plot &lt;- lplot(data, score ~ week | treatment, cluster_var = "id")</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="population-flags">2. Population Flags<a class="anchor" aria-label="anchor" href="#population-flags"></a>
</h3>
<p>Use analysis population flags appropriately:</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Safety population analysis</span></span>
<span><span class="va">safety_data</span> <span class="op">&lt;-</span> <span class="va">cdisc_adam</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">SAFFL</span> <span class="op">==</span> <span class="st">"Y"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Full analysis set</span></span>
<span><span class="va">fas_data</span> <span class="op">&lt;-</span> <span class="va">cdisc_adam</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">FASFL</span> <span class="op">==</span> <span class="st">"Y"</span><span class="op">)</span> </span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Safety Population N ="</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">safety_data</span><span class="op">$</span><span class="va">USUBJID</span><span class="op">)</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Safety Population N = 50</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Full Analysis Set N ="</span>, <span class="fu"><a href="https://rdrr.io/r/base/length.html" class="external-link">length</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">fas_data</span><span class="op">$</span><span class="va">USUBJID</span><span class="op">)</span><span class="op">)</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Full Analysis Set N = 50</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="parameter-standardization">3. Parameter Standardization<a class="anchor" aria-label="anchor" href="#parameter-standardization"></a>
</h3>
<p>Include standard parameter information:</p>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Check parameter consistency</span></span>
<span><span class="va">params</span> <span class="op">&lt;-</span> <span class="va">cdisc_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">PARAM</span>, <span class="va">PARAMCD</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/distinct.html" class="external-link">distinct</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">params</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 2</span></span></span>
<span><span class="co">#&gt;   PARAM                                        PARAMCD</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>                                        <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>  </span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> Hamilton Depression Rating Scale Total Score HAMDTOT</span></span>
<span></span>
<span><span class="co"># Use parameter in titles</span></span>
<span><span class="va">p7</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/lplot.html">lplot</a></span><span class="op">(</span></span>
<span>  <span class="va">cdisc_data</span>,</span>
<span>  form <span class="op">=</span> <span class="va">AVAL</span> <span class="op">~</span> <span class="va">AVISITN</span> <span class="op">|</span> <span class="va">TRT01P</span>,</span>
<span>  cluster_var <span class="op">=</span> <span class="st">"USUBJID"</span>,</span>
<span>  baseline_value <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  clinical_mode <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  title <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="st">"Analysis of"</span>, <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">cdisc_data</span><span class="op">$</span><span class="va">PARAM</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">p7</span><span class="op">)</span></span></code></pre></div>
<p><img src="cdisc-compliance_files/figure-html/parameters-1.png" width="768"></p>
</div>
<div class="section level3">
<h3 id="baseline-definition">4. Baseline Definition<a class="anchor" aria-label="anchor" href="#baseline-definition"></a>
</h3>
<p>Clearly define baseline in CDISC terms:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Baseline should be clearly identified</span></span>
<span><span class="va">baseline_info</span> <span class="op">&lt;-</span> <span class="va">cdisc_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">AVISITN</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span></span>
<span>    n_subjects <span class="op">=</span> <span class="fu"><a href="https://dplyr.tidyverse.org/reference/n_distinct.html" class="external-link">n_distinct</a></span><span class="op">(</span><span class="va">USUBJID</span><span class="op">)</span>,</span>
<span>    baseline_visit <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/unique.html" class="external-link">unique</a></span><span class="op">(</span><span class="va">VISIT</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Baseline Definition:"</span>, <span class="va">baseline_info</span><span class="op">$</span><span class="va">baseline_visit</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Baseline Definition: Baseline</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="st">"Subjects with Baseline:"</span>, <span class="va">baseline_info</span><span class="op">$</span><span class="va">n_subjects</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Subjects with Baseline: 50</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="validation-and-quality-control">Validation and Quality Control<a class="anchor" aria-label="anchor" href="#validation-and-quality-control"></a>
</h2>
<div class="section level3">
<h3 id="data-quality-checks">Data Quality Checks<a class="anchor" aria-label="anchor" href="#data-quality-checks"></a>
</h3>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Check for CDISC compliance issues</span></span>
<span><span class="va">qc_results</span> <span class="op">&lt;-</span> <span class="va">cdisc_data</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/summarise.html" class="external-link">summarise</a></span><span class="op">(</span></span>
<span>    <span class="co"># Check for missing required variables</span></span>
<span>    has_usubjid <span class="op">=</span> <span class="st">"USUBJID"</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span>,</span>
<span>    has_avisitn <span class="op">=</span> <span class="st">"AVISITN"</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span>,</span>
<span>    has_aval <span class="op">=</span> <span class="st">"AVAL"</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span>,</span>
<span>    has_trt01p <span class="op">=</span> <span class="st">"TRT01P"</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span>,</span>
<span>    </span>
<span>    <span class="co"># Check for data completeness</span></span>
<span>    missing_aval <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">AVAL</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    missing_chg <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/NA.html" class="external-link">is.na</a></span><span class="op">(</span><span class="va">CHG</span><span class="op">)</span><span class="op">)</span>,</span>
<span>    </span>
<span>    <span class="co"># Check visit structure</span></span>
<span>    baseline_visits <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/sum.html" class="external-link">sum</a></span><span class="op">(</span><span class="va">AVISITN</span> <span class="op">==</span> <span class="fl">0</span><span class="op">)</span>,</span>
<span>    max_visit <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Extremes.html" class="external-link">max</a></span><span class="op">(</span><span class="va">AVISITN</span>, na.rm <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span>  <span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/print.html" class="external-link">print</a></span><span class="op">(</span><span class="va">qc_results</span><span class="op">)</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 1 × 8</span></span></span>
<span><span class="co">#&gt;   has_usubjid has_avisitn has_aval has_trt01p missing_aval missing_chg</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;lgl&gt;</span>             <span style="color: #949494; font-style: italic;">&lt;int&gt;</span>       <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> TRUE        TRUE        TRUE     TRUE                  0          50</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># ℹ 2 more variables: baseline_visits &lt;int&gt;, max_visit &lt;dbl&gt;</span></span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="regulatory-readiness-checklist">Regulatory Readiness Checklist<a class="anchor" aria-label="anchor" href="#regulatory-readiness-checklist"></a>
</h3>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Regulatory submission checklist</span></span>
<span><span class="va">checklist</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span></span>
<span>  <span class="st">"USUBJID present"</span> <span class="op">=</span> <span class="st">"USUBJID"</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">cdisc_data</span><span class="op">)</span>,</span>
<span>  <span class="st">"AVISITN standardized"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/numeric.html" class="external-link">is.numeric</a></span><span class="op">(</span><span class="va">cdisc_data</span><span class="op">$</span><span class="va">AVISITN</span><span class="op">)</span>,</span>
<span>  <span class="st">"Treatment coded"</span> <span class="op">=</span> <span class="st">"TRT01P"</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">cdisc_data</span><span class="op">)</span>,  </span>
<span>  <span class="st">"Population flags"</span> <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/all.html" class="external-link">all</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"SAFFL"</span>, <span class="st">"FASFL"</span><span class="op">)</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">cdisc_data</span><span class="op">)</span><span class="op">)</span>,</span>
<span>  <span class="st">"CHG calculated"</span> <span class="op">=</span> <span class="st">"CHG"</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">cdisc_data</span><span class="op">)</span>,</span>
<span>  <span class="st">"Parameters defined"</span> <span class="op">=</span> <span class="st">"PARAM"</span> <span class="op"><a href="https://rdrr.io/r/base/match.html" class="external-link">%in%</a></span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">cdisc_data</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Print checklist</span></span>
<span><span class="kw">for</span><span class="op">(</span><span class="va">item</span> <span class="kw">in</span> <span class="fu"><a href="https://rdrr.io/r/base/names.html" class="external-link">names</a></span><span class="op">(</span><span class="va">checklist</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="va">status</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/ifelse.html" class="external-link">ifelse</a></span><span class="op">(</span><span class="va">checklist</span><span class="op">[[</span><span class="va">item</span><span class="op">]</span><span class="op">]</span>, <span class="st">"✓"</span>, <span class="st">"✗"</span><span class="op">)</span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/cat.html" class="external-link">cat</a></span><span class="op">(</span><span class="va">status</span>, <span class="va">item</span>, <span class="st">"\n"</span><span class="op">)</span></span>
<span><span class="op">}</span></span>
<span><span class="co">#&gt; ✓ USUBJID present </span></span>
<span><span class="co">#&gt; ✓ AVISITN standardized </span></span>
<span><span class="co">#&gt; ✓ Treatment coded </span></span>
<span><span class="co">#&gt; ✓ Population flags </span></span>
<span><span class="co">#&gt; ✓ CHG calculated </span></span>
<span><span class="co">#&gt; ✓ Parameters defined</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="summary">Summary<a class="anchor" aria-label="anchor" href="#summary"></a>
</h2>
<p>The <code>zzlongplot</code> package supports CDISC compliance
through:</p>
<ol style="list-style-type: decimal">
<li>
<strong>Automatic Recognition</strong>: Built-in support for CDISC
variable names</li>
<li>
<strong>ADaM Standards</strong>: Compliance with Analysis Data Model
requirements</li>
<li>
<strong>Quality Controls</strong>: Data validation and compliance
checking</li>
<li>
<strong>Regulatory Ready</strong>: Professional output suitable for
submissions</li>
</ol>
<p>Key CDISC features: - Standard variable name recognition (USUBJID,
AVISITN, AVAL, TRT01P) - Automatic baseline identification and change
calculation - Population flag support (SAFFL, FASFL) - Parameter
standardization (PARAM, PARAMCD) - Missing data handling patterns</p>
<p>For implementation examples, see the Clinical Trials vignette.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Ronald (Ryy) G Thomas.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
