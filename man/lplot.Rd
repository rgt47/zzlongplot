% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/zzlongplot.R
\name{lplot}
\alias{lplot}
\title{Flexible Plotting of Observed and Change Values with Grouping and Faceting}
\usage{
lplot(
  df,
  form,
  facet_form = NULL,
  clustervar = "rid",
  zeroval = "bl",
  xlab = "visit",
  ylab = "measure",
  ylab2 = "measure change",
  title = "measure",
  title2 = "measure change",
  subtitle = "",
  subtitle2 = "",
  caption = "",
  caption2 = "",
  ytype = "obs",
  etype = "bar"
)
}
\arguments{
\item{df}{A data frame containing the data to be plotted.}

\item{form}{A formula specifying the variables for the x-axis, grouping, and
y-axis. Format: \code{y ~ x | group}.}

\item{facet_form}{A formula specifying the variables for faceting. Format:
\code{facet_y ~ facet_x}. Default is \code{NULL}.}

\item{clustervar}{A character string specifying the name of the cluster
variable for grouping within subjects.}

\item{zeroval}{The baseline value of the x variable, used to calculate changes.
For categorical x variables, this is treated as a level. For continuous x
variables, this is treated as a numeric value.}

\item{xlab}{Label for the x-axis.}

\item{ylab}{Label for the y-axis of the observed values plot.}

\item{ylab2}{Label for the y-axis of the change values plot.}

\item{title}{Title for the observed values plot.}

\item{title2}{Title for the change values plot.}

\item{subtitle}{Subtitle for the observed values plot.}

\item{subtitle2}{Subtitle for the change values plot.}

\item{caption}{Caption for the observed values plot.}

\item{caption2}{Caption for the change values plot.}

\item{ytype}{Type of plot to return. Options are \code{"obs"} (observed values),
\code{"cng"} (change values), or \code{"both"} for combined plots.}

\item{etype}{Type of error representation. Options are \code{"bar"} (error bars) or
\code{"band"} (error ribbons).}
}
\value{
A ggplot2 object or a combination of objects representing the requested
plots.
}
\description{
These functions provide a flexible framework for generating observed
and change plots using a data frame, accommodating both continuous and
categorical variables for the x-axis. They handle baseline (\code{zeroval})
specification, grouping, and faceting. This version allows the user to return
either the observed plot, the change plot, or both combined side-by-side using
the \strong{patchwork} package.
}
\details{
\itemize{
\item \code{compute_stats}: Computes summary statistics for observed and change values,
adapting to continuous or categorical x-axis variables.
\item \code{generate_plot}: Dynamically generates ggplot objects based on whether the
x-axis is continuous or categorical, supports error representation (bars or
ribbons), and faceting.
\item \code{parse_formula}: Parses the formula to extract dependent, independent,
grouping, and faceting variables.
\item \code{lplot}: Combines the functionality of the helper functions to produce
the final plots or combined plots as specified.
}
}
\examples{
# Continuous x variable
df <- data.frame(
  rid = rep(1:10, each = 3),
  visit = rep(c(0, 1, 2), times = 10),
  measure = rnorm(30, mean = 50, sd = 10),
  group = rep(c("A", "B"), length.out = 30)
)
lplot(df, measure ~ visit | group, zeroval = 0)

# Categorical x variable
df <- data.frame(
  rid = rep(1:10, each = 3),
  visit = rep(c("baseline", "month1", "month2"), times = 10),
  measure = rnorm(30, mean = 50, sd = 10),
  group = rep(c("A", "B"), length.out = 30)
)
lplot(df, measure ~ visit | group, zeroval = "baseline")

}
