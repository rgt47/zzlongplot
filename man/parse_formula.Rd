% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/zzlongplot.R
\name{parse_formula}
\alias{parse_formula}
\title{Parse Formula Components for Longitudinal Plotting}
\usage{
parse_formula(formula)
}
\arguments{
\item{formula}{An R formula object. The formula can have the following forms:
\itemize{
\item \code{y ~ x} (simple x-y relationship)
\item \code{y ~ x | group} (with grouping)
\item \code{y ~ x | group ~ facet} (with grouping and single facet)
\item \code{y ~ x | group ~ facet1 + facet2} (with grouping and multiple facets)
}}
}
\value{
A list with four components:
\itemize{
\item \code{y}: character string, the dependent variable name (e.g., measure value)
\item \code{x}: character string, the independent variable name (typically time or visit)
\item \code{group}: character string or NULL, the grouping variable name if specified
\item \code{facets}: character vector or NULL, the faceting variable name(s) if specified
}
}
\description{
Parses an R formula object into its constituent components for use in longitudinal
plotting functions. This function is primarily used internally by \code{lplot()} to
extract variables for plotting observed values and changes over time, with optional
grouping and faceting specifications.
}
\details{
The function processes formula components in the following order:
\enumerate{
\item Extracts the y-variable (dependent variable) from the left-hand side of the first '~'
\item Extracts the x-variable (typically time/visit) from before the '|' on the right-hand side
\item If present, extracts the grouping variable after the '|'
\item If present, extracts faceting variables after the second '~'
}

Multiple faceting variables should be separated by '+'. The function is designed
to work with both continuous and categorical x-variables, supporting the flexible
plotting capabilities of the zzlongplot package.
}
\section{Package Internal}{

This function is primarily used internally by \code{\link[=lplot]{lplot()}} but is exported
for use in custom applications of the formula parsing system.
}

\examples{
# Simple longitudinal measurement
parse_formula(score ~ visit)

# With treatment group
parse_formula(score ~ visit | treatment)

# With treatment group and site facet
parse_formula(score ~ visit | treatment ~ site)

# With treatment group and multiple facets
parse_formula(score ~ visit | treatment ~ site + gender)

# Using more specific variable names
parse_formula(Blood.Pressure ~ Week | Drug.Group ~ Center + Age.Group)

}
\seealso{
\code{\link[=lplot]{lplot()}}, \code{\link[=compute_stats]{compute_stats()}}, \code{\link[=generate_plot]{generate_plot()}}
}
\keyword{internal}
